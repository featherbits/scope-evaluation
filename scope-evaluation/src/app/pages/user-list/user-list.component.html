<div class="content-container">
    <h1>Scope evaluation task</h1>
    <p>Display list of users and view user vehicles on map</p>
    <mat-divider></mat-divider>
    <table mat-table [dataSource]="users" class="mat-elevation-z8">

        <ng-container matColumnDef="owner">
            <th mat-header-cell *matHeaderCellDef>Owner</th>
            <td mat-cell *matCellDef="let user">{{ user.owner.name }} {{ user.owner.surname }}</td>
        </ng-container>
    
        <ng-container matColumnDef="vehicleCount">
            <th mat-header-cell *matHeaderCellDef>Vehicles</th>
            <td mat-cell *matCellDef="let user">{{ user.vehicles.length }}</td>
        </ng-container>
    
        <ng-container matColumnDef="loader">
            <td mat-footer-cell *matFooterCellDef [attr.colspan]="columns.length">
                Loading...
            </td>
        </ng-container>
    
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let user"><a mat-flat-button [routerLink]="['user', user.userid, 'vehicles-on-map']">Show</a></td>
        </ng-container>
    
        <ng-container matColumnDef="loadingFailure">
            <td mat-footer-cell *matFooterCellDef [attr.colspan]="columns.length">
                Failed to load data! <button type="button" mat-stroked-button (click)="load()">Retry</button>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
        <tr mat-footer-row *matFooterRowDef="footerColumns" [hidden]="!footerColumns.length"></tr>
    
    </table>
</div>