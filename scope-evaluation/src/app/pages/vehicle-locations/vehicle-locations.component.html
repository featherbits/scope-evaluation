<mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
<mat-drawer-container autosize>
    <mat-drawer mode="side" opened>
        <a mat-button routerLink="/"><mat-icon>arrow_back</mat-icon> To user list</a>
        <mat-selection-list #vehicleList [multiple]="false" (selectionChange)="onVehicleSelectedFromList($event)">
            <ng-container *ngIf="user">
                <mat-list-option *ngFor="let vehicle of user.vehicles" [value]="vehicle">
                    <div mat-line>{{ vehicle.make }} {{ vehicle.model }}</div>
                    <div mat-line>{{ vehicle.vin }}</div>
                </mat-list-option>
            </ng-container>
        </mat-selection-list>
    </mat-drawer>
    <mat-drawer-content>
        <div #mapContainer class="map-container"></div>
        <div #popup class="popup">
            <ng-container *ngIf="vehicle">
                <div class="data-container">
                    <div class="image-container">
                        <img [src]="vehicle.foto">
                    </div>
                    <div>
                        <p>{{ vehicle.make }} {{ vehicle.model }}</p>
                        <p></p>
                    </div>
                </div>
            </ng-container>
        </div>
    </mat-drawer-content>
</mat-drawer-container>